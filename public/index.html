<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>K-Pop Random Dance Generator</title>
    <meta
      name="description"
      content="Create random dance practice audio by combining YouTube song segments with countdown transitions"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="app-container">
      <!-- Header -->
      <header class="header">
        <div class="logo">
          <span class="logo-icon">ğŸµ</span>
          <h1>Random Dance Generator</h1>
        </div>
        <p class="tagline">Create your perfect random dance practice mix</p>
      </header>

      <!-- Main Content -->
      <main class="main-content">
        <!-- Song List Section -->
        <section class="song-section">
          <div class="section-header">
            <h2>Song Segments</h2>
            <div class="header-controls">
              <input type="file" id="importFile" accept=".json" class="hidden" />
              
              <div class="menu-container">
                <button id="menuBtn" class="btn btn-secondary" title="Options">
                  <span class="btn-icon">âš™ï¸</span> Options
                </button>
                <div id="menuDropdown" class="menu-dropdown hidden">
                  <button id="importBtn" class="menu-item">
                    <span class="menu-icon">ğŸ“‚</span> Import Project
                  </button>
                  <button id="exportBtn" class="menu-item">
                    <span class="menu-icon">ğŸ’¾</span> Export Project
                  </button>
                  <div class="menu-divider"></div>
                  <label class="menu-item toggle-item" title="Shuffle songs randomly when generating">
                    <span class="menu-icon">ğŸ²</span> 
                    <span>Shuffle Songs</span>
                    <div class="toggle-switch small">
                      <input type="checkbox" id="randomOrderToggle" />
                      <span class="toggle-slider"></span>
                    </div>
                  </label>
                  <label class="menu-item toggle-item" title="Show songs in a single-line compact view">
                    <span class="menu-icon">ğŸ—œï¸</span> 
                    <span>Compact View</span>
                    <div class="toggle-switch small">
                      <input type="checkbox" id="compactViewToggle" />
                      <span class="toggle-slider"></span>
                    </div>
                  </label>
                </div>
              </div>
              
              <button id="addSongBtn" class="btn btn-primary">
                <span class="btn-icon">+</span>
                Add Song
              </button>
            </div>
          </div>

          <p class="drag-hint" id="dragHint">ğŸ’¡ Drag songs to reorder them</p>

          <div id="songList" class="song-list">
            <!-- Song cards will be added here dynamically -->
            <div class="empty-state" id="emptyState">
              <div class="empty-icon">ğŸ¤</div>
              <p>No songs added yet</p>
              <p class="empty-hint">
                Click "Add Song" to start building your random dance
              </p>
            </div>
          </div>
        </section>

        <!-- Generate Section -->
        <section class="generate-section">
          <button id="generateBtn" class="btn btn-generate" disabled>
            <span class="btn-icon">âœ¨</span>
            Generate Random Dance
          </button>

          <!-- Progress Indicator -->
          <div id="progressContainer" class="progress-container hidden">
            <div class="progress-bar">
              <div class="progress-fill" id="progressFill"></div>
            </div>
            <p class="progress-text" id="progressText">Processing...</p>
          </div>

          <!-- Download Section -->
          <div id="downloadSection" class="download-section hidden">
            <div class="download-card">
              <div class="download-icon">ğŸ‰</div>
              <h3>Your Random Dance is Ready!</h3>
              <div class="download-buttons">
                <a id="downloadLink" href="#" class="btn btn-download">
                  <span class="btn-icon">â¬‡ï¸</span>
                  Download MP3
                </a>
                <a id="downloadReportLink" href="#" class="btn btn-download report">
                  <span class="btn-icon">ğŸ“</span>
                  Download Report
                </a>
              </div>
            </div>
          </div>
        </section>
      </main>

      <!-- Footer -->
      <footer class="footer">
        <p>Made with ğŸ’œ for K-Pop dance lovers</p>
      </footer>
    </div>

    <!-- Song Card Template -->
    <template id="songCardTemplate">
      <div class="song-card" data-index="" draggable="true">
        <div class="song-card-header">
          <div class="drag-handle" title="Drag to reorder">â ¿</div>
          <span class="song-number"></span>
          <button class="btn-remove" title="Remove song">Ã—</button>
        </div>

        <div class="song-card-content">
          <div class="compact-info">
            <span class="compact-band">Band</span>
            <span class="compact-title">Song Title</span>
          </div>

          <div class="url-input-group">
            <label>YouTube URL</label>
            <div class="url-input-wrapper">
              <input
                type="text"
                class="input url-input"
                placeholder="https://www.youtube.com/watch?v=..."
              />
              <button class="btn btn-fetch" title="Fetch video info">
                <span class="fetch-icon">ğŸ”</span>
              </button>
            </div>
          </div>

          <div class="song-info hidden">
            <div class="song-thumbnail">
              <img src="" alt="Thumbnail" />
            </div>
            <div class="song-details">
              <h4 class="song-title"></h4>
              <p class="song-channel"></p>
              <p class="song-duration"></p>
            </div>
          </div>

          <div class="time-inputs">
            <div class="time-input-group">
              <label>Start Time</label>
              <input
                type="text"
                class="input time-input start-time"
                placeholder="0:00"
              />
            </div>
            <div class="time-divider">â†’</div>
            <div class="time-input-group">
              <label>End Time</label>
              <input
                type="text"
                class="input time-input end-time"
                placeholder="0:30"
              />
            </div>
          </div>
        </div>
      </div>
    </template>

    <script src="app.js"></script>
  </body>
</html>
